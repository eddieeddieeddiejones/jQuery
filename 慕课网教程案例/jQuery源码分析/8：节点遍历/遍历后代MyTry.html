<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<script src="http://img.mukewang.com/down/540812440001e40e00000000.js" type="text/javascript"></script>
<!-- <script type="text/javascript" src="../jquery-2.1.1.js"></script> -->
<title></title>
</head>
<body>

<button id="test1">jQuery children方法</button>
<button id="test2">模拟children方法</button>
  
<div></div>

<ul class="level-1">
  <li class="item-i">I</li>
  <li class="item-ii">II
    <ul class="level-2">
      <li class="item-a">A</li>
      <li class="item-b">B
        <ul class="level-3">
          <li class="item-1">1</li>
          <li class="item-2">2</li>
          <li class="item-3">3</li>
        </ul>
      </li>
      <li class="item-c">C</li>
    </ul>
  </li>
  <li class="item-iii">III</li>
</ul>


<script type="text/javascript">

//模拟找出一个元素的所有子元素
$("#test2").click(function(){
  var ul = document.querySelector(".level-2")

  function sibling(elem,except){
    var matched =[]
    // 上来就判断，这样写不好
    // while(elem= elem.nextSibling){
    // }
    for(;elem;elem = elem.nextSibling){
      if(elem.nodeType === 1){
        matched.push(elem)
      }
    }
    return matched
  }
  // console.log(ul)
  $.each(sibling(ul.firstChild),function(i,value){
    $("div").append('<li>模拟children方法，ul的所有子元素的类名为'+ value.className+'</li>')
  })
})


</script> 
</body>
</html>









